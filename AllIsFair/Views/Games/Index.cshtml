
<div class="container" ng-controller="gamecontroller">
    <div class="row">
        <div class="topbar">
            <h4>Alive: {{game.NumOfAlive}} &nbsp;&nbsp;&nbsp;&nbsp;Dead: {{game.NumOfDead}} &nbsp;&nbsp;&nbsp;&nbsp;It is {{game.Player.Name}}'s turn!</h4>
        </div>
    </div>

    <div class="row container map">
        <div ng-click="tileClick(tile)" ng-repeat="tile in game.Tiles | orderBy:'X' | orderBy:'Y'" ng-class="{'possibleMove' : tile.IsPossibleMove}" class="col-xs-1 tile">
            <img class="img-responsive" ng-src="{{tile.GraphicName}}" />

            <img class="img-responsive player" ng-src="{{tile.CombatantGraphicName}}" ng-show="tile.CombatantGraphicName" />
        </div>
    </div>

    <div class="container bottombar" ng-if="game.Result.IsAttack && game.Result != null">
        <div class="dieholder">
            <img ng-repeat="r in game.Result.DieResultGraphics track by $index" class="img-responsive die" ng-src="{{r}}" />
        </div>
        <div class="dieholder">
            <img ng-repeat="r in game.Result.DieResultEnemyGraphics track by $index" class="img-responsive die" ng-src="{{r}}" />
        </div>
        <div>
            <h6>{{game.Result.Name}} inflicted {{game.Result.Healthloss}} damage!</h6>
        </div>
    </div>

    <div class="container bottombar" ng-if="!game.Result.IsAttack && game.Result != null">
        <div class="card">
            <div class="innerborder">
                <div class="cardtext">
                    <h4> {{game.Result.Event.Name}} </h4>
                </div>
                <img class="img-responsive cardgraphic" style="width: 100%;" ng-src="{{game.Result.Event.GraphicName}}" />
                <div class="cardtext">
                    <h6>Stat: {{game.Result.Event.RequiredStat}}</h6>
                    <h6>Stat Reward: +{{game.Result.Event.StatReward}}</h6>
                    <h6>Target Number: {{game.Result.Event.TargetNumber}}</h6>
                </div>
            </div>
        </div>
        <h6>{{game.Result.Event.Description}}</h6>

        <div class="dieholder">
            <img ng-repeat="r in game.Result.DieResultGraphics track by $index" class="img-responsive die"  ng-src="{{r}}" />
        </div>
        <div ng-if="game.Result.ItemReward != null">
            <div class="card">
                <div class="innerborder">
                    <div class="cardtext">
                        <h4> {{game.Result.ItemReward.Name}} </h4>
                    </div>
                    <img class="img-responsive cardgraphic" style="width: 100%;" ng-src="{{game.Result.ItemReward.GraphicName}}" />
                    <div class="cardtext">
                        <h6>Counters: {{game.Result.ItemReward.Counter}}</h6>
                        <h6>Threat: + {{game.Result.ItemReward.ThreatBonus}}</h6>
                        <h6>Survival: + {{game.Result.ItemReward.SurvivalBonus}}</h6>
                    </div>
                </div>
            </div>
        </div>
        <div ng-if="game.Result.StatReward != 0">
            <h6>+ {{game.Result.StatReward}} to {{game.Result.Event.RequiredStat}}</h6>
        </div>
    </div>
    <br />
    <br />
    <div class="row">
        <div class="col-xs-12 col-xs-offset-1">
            <div class="row bottombar stretchrow">

                <div class="messagebox" ng-repeat="a in game.GameActions">
                    <h6>{{a}}</h6>
                </div>

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-xs-offset-1">
            <div class="row bottombar stretchrow">

                @Html.Partial("BottomInfo")

            </div>
        </div>
    </div>

</div>


@section scripts{
    <script>

    </script>
}