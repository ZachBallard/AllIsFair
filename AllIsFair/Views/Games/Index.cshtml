
<div class="container" ng-controller="gamecontroller">

    <div class="row">
        <div class="topbar">
            <h4>Alive: {{game.NumOfAlive}}</h4>
            <h4>Dead: {{game.NumOfDead}}</h4>
        </div>
    </div>

    <div class="row map">

        <div ng-click="tileClick(tile)" ng-repeat="tile in game.Tiles | orderBy:'X' | orderBy:'Y'" ng-class="{'possibleMove' : tile.IsPossibleMove}" class="col-xs-1 tile">
            <img class="img-responsive" ng-src="{{tile.GraphicName}}"/>

            <img class="img-responsive player" ng-src="{{tile.CombatantGraphicName}}" ng-show="tile.CombatantGraphicName"/>
        </div>

    </div>

    <div class="container" ng-if="game.result.IsAttack">
        <div ng-repeat="r in game.result.DieResultGraphics">
            <img class="img-responsive" style="width: 100%;" ng-src="{{r}}" />
        </div>
        <div ng-repeat="r in game.result.DieResultEnemyGraphics">
            <img class="img-responsive" style="width: 100%;" ng-src="{{r}}" />
        </div>
        <div>
            <p>{{game.Player.Name}} inflicted {{game.result.Healthloss}} damage!</p>
        </div>
    </div>

    <div class="container" ng-if="!game.Result.IsAttack">
        <div class="card">
            <div class="cardtext">
                <h4> {{game.Result.Event.Name}} </h4>
            </div>
            <img class="img-responsive" style="width: 100%;" ng-src="{{game.result.Event.GraphicName}}" />
            <div class="cardtext">
                <h6>Stat: {{game.Result.Event.RequiredStat}}</h6>
                <h6>Stat Reward: +{{game.result.Event.StatReward}}</h6>
                <h6>Target Number: {{game.result.Event.TargetNumber}}</h6>
            </div>
        </div>

        <p>{{game.result.Event.Description}}</p>

        <div ng-repeat="r in game.result.DieResultGraphics">
            <img class="img-responsive" style="width: 100%;" ng-src="{{game.result.DieResultGraphics}}" />
        </div>
        <div ng-if="game.result.ItemReward != null">
            <div class="card">
                <div class="cardtext">
                    <h4> {{game.result.ItemReward.Name}} </h4>
                </div>
                <img class="img-responsive" style="width: 100%;" ng-src="{{game.result.ItemReward.GraphicName}}" />
                <div class="cardtext">
                    <h6>Counters: {{game.result.ItemReward.Counter}}</h6>
                    <h6>Threat: + {{game.result.ItemReward.ThreatBonus}}</h6>
                    <h6>Survival: + {{game.result.ItemReward.SurvivalBonus}}</h6>
                </div>
            </div>
        </div>
        <div ng-if="game.result.StatReward != 0">
            <p>+ {{game.result.StatReward}} to {{game.result.Event.RequiredStat}}</p>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12 col-xs-offset-1">
            <div class="row bottombar stretchrow">

                <div class="messagebox" ng-repeat="a in game.GameActions">
                    <h6>{{a}}</h6>
                </div>

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-xs-offset-1">
            <div class="row bottombar stretchrow">

                @Html.Partial("BottomInfo")

            </div>
        </div>
    </div>

</div>


@section scripts{
    <script>
     
     

     
    </script>
}